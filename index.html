<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cancer Detection</title>
</head>
<body>
  <h1>Cancer Detection Form</h1>

  <form id="predictForm">
    <div id="sliders"></div>
    <button type="submit">Get Prediction</button>
  </form>

  <h2 id="result"></h2>

  <script>
    const featureInfo = [
      { name: "Radius_Mean", min: 6.98, max: 28.11 },
      { name: "Texture_Mean", min: 9.71, max: 39.28 },
      { name: "Perimeter_Mean", min: 43.79, max: 188.5 },
      { name: "Area_Mean", min: 143.5, max: 2501 },
      { name: "Smoothness_Mean", min: 0.05263, max: 0.2226 },
      { name: "Compactness_Mean", min: 0.01938, max: 0.3454 },
      { name: "Concavity_Mean", min: 0.0, max: 0.4268 },
      { name: "ConcavePoints_Mean", min: 0.0, max: 0.2012 },
      { name: "Symmetry_Mean", min: 0.106, max: 0.304 },
      { name: "FractalDimension_Mean", min: 0.04996, max: 0.09744 }
    ];

    const slidersContainer = document.getElementById('sliders');
    featureInfo.forEach(({ name, min, max }) => {
      slidersContainer.innerHTML += `
        <label for="${name}">${name} (${min} - ${max})</label><br>
        <input type="range" id="${name}" name="${name}" min="${min}" max="${max}" step="0.01" value="${(min + max) / 2}" />
        <span id="${name}Value">${(min + max) / 2}</span><br><br>
      `;
    });

    featureInfo.forEach(({ name }) => {
      document.getElementById(name).addEventListener('input', (e) => {
        document.getElementById(`${name}Value`).innerText = e.target.value;
      });
    });

    document.getElementById('predictForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const data = {};
      featureInfo.forEach(({ name }) => {
        data[name] = parseFloat(document.getElementById(name).value);
      });

      try {
        const response = await fetch('https://cancer-detection-api.azurewebsites.net/predict', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        const result = await response.json();
        document.getElementById('result').innerText = result.Prediction || JSON.stringify(result);
      } catch (error) {
        document.getElementById('result').innerText = 'Error: ' + error;
      }
    });
  </script>
</body>
</html>
